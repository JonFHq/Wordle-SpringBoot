<!DOCTYPE html>
<html>

<head>
    <script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
    <link th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}" rel="stylesheet" />
    <link th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap-theme.min.css}" rel="stylesheet" />
    <link th:href="@{/webjars/font-awesome/4.7.0/css/font-awesome.min.css}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <title>Wordle</title>
    <style>
        .base {
            font-size: 3rem;
            width: 5rem;
            height: 5rem;
            text-size-adjust: inherit;
        }

        .title {
            font-size: 3rem;
            text-align: center;
            text-size-adjust: inherit;
        }

        .fixed-top {
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .scrollable {
            height: calc(100vh - 210px);
            overflow-y: auto;
        }
    </style>
</head>

<body class="bg-dark">
    <div class="container-fluid fixed-top p-0" style="height: 145px;">
        <th:block th:if="${gameOver}">
            <div class="alert alert-danger" role="alert">
                <h4 class="alert-heading">Game over!</h4>
                <p>Intentalo de nuevo</p>
                <hr>
                <p class="mb-0">Puedes ir al menu para reempezar la partida</p>
            </div>
        </th:block>
        <table th:unless="${gameOver}" class="table table-dark text-center mb-0">
            <thead>
                <tr>
                    <th class="title" th:colspan="${wordle.wordLength}">Wordle</th>
                    <th class="base title" th:text="${wordle.wordLength} + 'L'"></th>
                </tr>
                <tr>
                    <form class="form" th:action="@{/wordle}" th:object="${word}" method="POST">
                        <th th:colspan="${wordle.wordLength}">
                            <input class="form-control rounded-0" type="text" name="word" placeholder="Introduce una palabra"
                                th:maxlength="${wordle.wordLength}" th:minlength="${wordle.wordLength}" required
                                autofocus/>
                        </th>
                        <th>
                            <input class="btn btn-primary rounded-0" type="submit" value="AÃ±adir"/>
                        </th>
                    </form>
                </tr>
            </thead>
        </table>
    </div>
    <div class="container-fluid scrollable p-0">
        <table class="table table-dark text-center auto">
            <tbody>
                <th:block th:with="words=${wordle.words}">
                    <th:block th:each="index : ${#numbers.sequence(words.size(), 1, -1)}">
                        <tr class="flex-wrap">
                            <th:block th:with="word=${words[index-1]}">
                                <th:block th:each="letter : ${word.letters}">
                                    <td class="col">
                                        <div th:text="${letter.letter}"
                                            th:class="'base border border-light rounded mx-auto ' + ${letter.color}">
                                        </div>
                                    </td>
                                </th:block>
                                <td class="base" th:text="${index}"></td>
                            </th:block>
                        </tr>
                    </th:block>
                </th:block>
            </tbody>
        </table>
    </div>
    <div class="container-fluid d-grid gap-2 mx-auto border-top border-light-subtle fixed-bottom p-2"
        style="height: 65px;">
        <a class="btn btn-lg btn-danger rounded-0 hover" type="button" title="Reset" href="/checkReset">Menu</a>
    </div>
</body>

</html>